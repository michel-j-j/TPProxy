package model;

import java.util.Objects;
import java.util.Set;

import data.PersonaJDBC;

public class ProxyPersona implements PersonaInterface {
	private int id;
	private String nombre;
	private Set<Telefono> telefonos;
	
	private PersonaInterface persona;
	private PersonaJDBC persistencia;

	public ProxyPersona(int id, String nombre, Set<Telefono> telefonos, PersonaJDBC persisitencia) {
		this.id = id;
		this.nombre = nombre;
		this.telefonos = telefonos;
		this.persistencia = Objects.requireNonNull(persisitencia);
	}

	@Override
	public Telefono[] telefonos() {
		this.telefonos = persistencia.telefonosDePersona(this.id);
		this.persona = new Persona(id,nombre,telefonos);
		return persona.telefonos();
	}

	@Override
	public String nombre() {
		// TODO Auto-generated method stub
		return null;
	}
}
